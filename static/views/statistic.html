<!--

    Copyright (c) 2013-2015 by The SeedStack authors. All rights reserved.

    This file is part of SeedStack, An enterprise-oriented full development stack.

    This Source Code Form is subject to the terms of the Mozilla Public
    License, v. 2.0. If a copy of the MPL was not distributed with this
    file, You can obtain one at http://mozilla.org/MPL/2.0/.

-->
<div>
<div data-ng-show="authorization.hasPermission('seed-w20', ['seed', 'i18n', 'translation', 'read']) && authentication.isAuthentifiable()">
    <div class="container-full container-main-title">
            <div>
                <div class="menu-wrapper">
                    <button data-ng-click="goTo('seed-i18n/i18n')" class="btn btn-link menu-item enabled-link">
                    {{ "application.view.seed-i18n.dashboard" | localize }}
                	</button>
                    <button data-ng-click="goTo('seed-i18n/keys')"
                            class="btn btn-link menu-item"
                            data-ng-class="{'disabled-link': !allowTranslate(), 'enabled-link': allowTranslate()}"
                            data-tooltip="{{ 'application.view.seed-i18n.minimumlocales' | localize }}"
                            data-tooltip-trigger="mouseenter && {{ allowTranslate() }}"
                            data-tooltip-placement="bottom">
                        {{ "application.view.seed-i18n.keys" | localize }}
                    </button>
                    <button data-ng-click="goTo('seed-i18n/translate')"
                            class="btn btn-link menu-item"
                            data-ng-class="{'disabled-link': !allowTranslate(), 'enabled-link': allowTranslate()}"
                            data-tooltip="{{ 'application.view.seed-i18n.minimumlocales' | localize }}"
                            data-tooltip-trigger="mouseenter && {{ allowTranslate() }}"
                            data-tooltip-placement="bottom">
                        {{ "application.view.seed-i18n.translate" | localize }}
                    </button>
                    <div class="menu-item big">
                        {{ "application.view.seed-i18n.statistic" | localize }}
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="alert alert-warning"
         data-ng-show="!authorization.hasPermission('seed-w20', ['seed', 'i18n', 'translation', 'read']) && authentication.isAuthentifiable()">
        {{ "application.view.seed-i18n.noeditpermission" | localize }}
    	</div>
        <div id="container-main-content" class="container-full">
        	<ul class="nav nav-tabs" role="tablist">
  				<li class="active"><a data-ng-click="redrawMultibar()" href="#chart" role="tab" data-toggle="tab">MultibarChart</a></li>
  				<li><a data-ng-click="redrawTable()" href="#table" role="tab" data-toggle="tab">Table</a></li>
			</ul>
        	
        	<div class="tab-content">
  				<div class="tab-pane active" id="chart">
  					<div class="row">
                		<div class="col-md-12">
                    	<div class="panel panel-default">
                        	<div class="panel-heading">{{ "application.view.seed-i18n.statisticresult" | localize }}</div>
                        	<div class="panel-body">
                        	<label class="label label-app-languages" for="selectStatisticLanguage"> {{ "application.view.seed-i18n.statisticlanguageis" | localize }}
                                <span data-ng-show="!defaultLocale"> {{ "application.view.seed-i18n.notset" | localize }} </span>
                            </label>
                            <select id="selectStatisticLanguage" class="select-style" data-ng-disabled="!authorization.hasPermission('seed-w20', ['seed', 'i18n', 'translation', 'read']) && authentication.isAuthentifiable()"
                                    data-ng-options="lang.code as lang.englishLanguage for lang in applicationLocales | orderBy:'toString()'"
                                    data-ng-model="selectLang" data-ng-change="changeLangMultibar()">
                                    <option value="">All</option>
                            </select>
                          	<div style="height:500px" id="multibar" data-w20-multibar-chart="multibarConfig"></div>
                        </div>
                    	</div>
                	</div>
                	</div>
  				</div>
  				<div class="tab-pane" id="table">
  					<div class="row">
  							<div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-heading"> {{ "application.view.seed-i18n.statisticlanguage" | localize }} </div>
                        <div class="panel-body">
                            <label class="label label-app-languages" for="selectStatisticLanguage"> {{ "application.view.seed-i18n.statisticlanguageis" | localize }}
                                <span data-ng-show="!defaultLocale"> {{ "application.view.seed-i18n.notset" | localize }} </span>
                            </label>
                            <select id="selectStatisticLanguage" class="select-style" data-ng-disabled="!authorization.hasPermission('seed-w20', ['seed', 'i18n', 'translation', 'read']) && authentication.isAuthentifiable()"
                                    data-ng-options="lang.code as lang.englishLanguage for lang in applicationLocales | orderBy:'toString()'"
                                    data-ng-model="selectLang" data-ng-change="changeLangTable()">
                                    <option value="">All</option>
                            </select>
                            <table class="table table-striped">
                            <thead>
                            <tr>
                            	<th>#</th>
                            	<th>Language</th>
                            	<th>Locale</th>
                            	<th>to translate</th>
                            	<th>translated</th>
                            	<th>total</th>
                            </tr>
                            </thead>
                            <tbody>
                            	<tr data-ng-repeat="langStat in statisticTableData">
                            		<td></td>
                            		<td>{{langStat.englishLanguage}}</td>
                            		<td>{{langStat.locale}}</td>                            		
                            		<td>{{langStat.totranslate}}</td>
                            		<td>{{langStat.translated}}</td>
                            		<td>{{langStat.keytotal}}</td>
                            	</tr>
                            </tbody>
							</table>

                        </div>
                    </div>
               		</div>
  					</div>
  				</div>
  	
			</div>
        
            <!-- <div class="row">
                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading">{{ "application.view.seed-i18n.statisticresult" | localize }}</div>
                        <div class="panel-body">
                          <div style="height:500px" id="multibar" data-w20-multibar-chart="multibarConfig"></div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading"> {{ "application.view.seed-i18n.statisticlanguage" | localize }} </div>
                        <div class="panel-body">
                            <label class="label label-app-languages" for="selectStatisticLanguage"> {{ "application.view.seed-i18n.statisticlanguageis" | localize }}
                                <span data-ng-show="!defaultLocale"> {{ "application.view.seed-i18n.notset" | localize }} </span>
                            </label>
                            <select id="selectStatisticLanguage" class="select-style" data-ng-disabled="!authorization.hasPermission('seed-w20', ['seed', 'i18n', 'translation', 'read']) && authentication.isAuthentifiable()"
                                    data-ng-options="lang.code as lang.englishLanguage for lang in applicationLocales | orderBy:'toString()'"
                                    data-ng-model="selectLang" data-ng-change="changeLang()">
                                    <option value="">All</option>
                            </select>
                            <table class="table table-striped">
                            <thead>
                            <tr>
                            	<th>#</th>
                            	<th>Language</th>
                            	<th>to translate</th>
                            	<th>translated</th>
                            	<th>total</th>
                            </tr>
                            </thead>
                            <tbody>
                            	<tr data-ng-repeat="langStat in statisticTableData">
                            		<td></td>
                            		<td>{{langStat.locale}}</td>
                            		<td>{{langStat.totranslate}}</td>
                            		<td>{{langStat.translated}}</td>
                            		<td>{{langStat.keytotal}}</td>
                            	</tr>
                            </tbody>
							</table>

                        </div>
                    </div>
                </div>
            </div>-->

        </div>
        <br>

    </div>
</div>